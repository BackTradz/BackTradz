/* ==============================================================
   🔐 AUTH — BackTradz (V1.3 clean)
   - Fond global via <HexNeonBackground /> (#hex-canvas)
   - Box 2 colonnes desktop / 1 colonne mobile
   - Forms switch (login/register)
   - Inputs sombres + Google button
   - Footer légal
   ============================================================== */

/* ============ TOKENS ============ */
:root{
  --sdx-card:  #0e162b;                    /* carte/overlay */
  --sdx-panel: #0f172a;                    /* non utilisé, conservé si besoin */
  --sdx-text:  #cbd5e1;
  --sdx-text-dim:#94a3b8;

  --sdx-accent:#3b82f6; --sdx-accent-hover:#2563eb;

  /* ── Recette AURORA (sections principales) ─────────────────────────────── */
  --auth-card-aurora-bd: rgba(90,130,255,.14);
  --auth-card-aurora-bg:
    radial-gradient(140% 100% at 50% 68%,
      rgba(56,96,220,.10) 0%,
      rgba(22,34,68,.09) 42%,
      rgba(10,16,28,.08) 62%,
      rgba(6,10,18,.06) 82%,
      transparent 100%
    ),
    linear-gradient(180deg, rgba(5,8,14,.65) 0%, rgba(6,10,18,.65) 100%);
  --auth-card-aurora-shadow:
    inset 0 1px 0 rgba(255,255,255,.04),
    0 10px 38px rgba(0,0,0,.45),
    0 0 12px rgba(0,100,255,.12);
  --auth-card-aurora-backdrop: blur(8px) saturate(110%);

  /* ── Recette VERRE MÉTRIQUE (sous-sections) ───────────────────────────── */
  --auth-input-bd: rgba(120,170,255,.10);
  --auth-input-bg:
    radial-gradient(120% 140% at 50% 115%, rgba(0,0,0,.14) 0%, rgba(0,0,0,0) 60%),
    linear-gradient(180deg, rgba(10,16,28,.64) 0%, rgba(8,12,20,.66) 100%);
  --auth-input-shadow:
    inset 0 1px 0 rgba(255,255,255,.035),
    0 12px 28px rgba(0,0,0,.32);
  --auth-input-backdrop: blur(10px) saturate(112%);

  --sdx-radius: 14px;
  --sdx-border: 1px solid rgba(255,255,255,.05);
  --sdx-shadow: 0 10px 40px rgba(0,0,0,.35);

  --sdx-maxw: 1100px;
  --pad: 2rem;
}

/* ============ LAYOUT + BG global ============ */
.auth-container{
  position: relative; display:flex; flex-direction:column;
  justify-content:center; align-items:center;
  min-height:100vh; width:100%;
  padding: var(--pad) 1.2rem; box-sizing:border-box; isolation:isolate;
}
#hex-canvas{ position:fixed; inset:0; z-index:0; pointer-events:none; }

/* ============ BOX ============ */
.auth-box{
  position:relative; z-index:1; display:flex; flex-direction:row;
  align-items: stretch;                 /* ✅ panneaux même hauteur */
  width:min(var(--sdx-maxw), 92vw);
  height:72vh; min-height:520px;
  background:var(--auth-card-aurora-bg);
  border:1px solid var(--auth-card-aurora-bd);
  border-radius:var(--sdx-radius);
  box-shadow:var(--auth-card-aurora-shadow);
  overflow:hidden;
}

/* ============ PANNEAUX ============ */
.info-panel{
  flex: 1 1 50%;
  padding:3.2rem;                       /* V1.3: léger resserrage */
  background:var(--auth-card-aurora);
  border-radius:var(--sdx-radius);
  box-shadow:var(--auth-card-aurora-shadow);
  display:flex; flex-direction:column;
  justify-content:center;
  align-items:center;                   /* ✅ centre horizontalement tout le contenu */
  text-align:center;                    /* ✅ titres + paragraphes centrés */
  gap:.9rem;                            /* V1.3: rythme vertical plus compact */
}
.info-panel h2{
  font-size:2rem; line-height:1.15;
  margin:.1rem 0 .4rem;                 /* V1.3: rapprochement du logo */
background: linear-gradient(180deg, #f8faff 0%, #cdd9ff 48%, #9ab4ff 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  position: relative;
  /* profondeur subtile + lisibilité (mêmes valeurs que Hero) */
  text-shadow:
    0 0 10px rgba(80,130,255,0.06),
    0 2px 6px rgba(0,0,0,0.35);
  transition: filter 0.4s ease;
  will-change: filter; /* micro-optimisation */
 }
.info-panel p{ color:var(--sdx-text-dim); margin:0 0 .8rem; } /* V1.3: un peu moins d’air */
.info-panel .dbt-btn{ display:inline-flex; width:100%; max-width:520px; }

/* V1.3 — wrapper logo sans padding et avec marge ultra courte */
.info-logo{
  display:flex; align-items:center; justify-content:center;
  padding:0 !important;
  margin:0 0 .25rem 0;                  /* ≈4px sous le logo */
  line-height:1;
}

.form-panel{
  flex: 1 1 50%; padding:2.2rem; display:flex;
  align-items:center; justify-content:center; position:relative; min-height:100%;
}

/* ============ FORMS (switch) ============ */
.auth-form{
  display:none; flex-direction:column; align-items:center; justify-content:center;
  position:absolute; inset:0; height:100%; width:100%; padding:2rem; box-sizing:border-box;
}
.auth-box.login-active    .login-form{ display:flex; z-index:2; }
.auth-box.register-active .register-form{ display:flex; z-index:2; }

/* ============ FORM ELEMENTS ============ */
.form-title{ font-size:2rem; font-weight:800; letter-spacing:.4px; margin:0 0 1.2rem; text-align:center; background: linear-gradient(180deg, #f8faff 0%, #cdd9ff 48%, #9ab4ff 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  position: relative;
  /* profondeur subtile + lisibilité (mêmes valeurs que Hero) */
  text-shadow:
    0 0 10px rgba(80,130,255,0.06),
    0 2px 6px rgba(0,0,0,0.35);
  transition: filter 0.4s ease;
  will-change: filter; /* micro-optimisation */ }

.form-input{
  width:min(520px, 100%); padding:12px 14px; margin-bottom:1rem;
  border:1px solid var(--auth-input-bd); border-radius:10px;
  background:var(--auth-input-bg); color:#fff; font-size:.98rem;
  box-shadow:var(--auth-input-shadow);
}
.form-input::placeholder{ color:var(--sdx-text-dim); letter-spacing:.2px; }
.form-input:focus{ outline:none; border-color:rgba(59,130,246,.8); box-shadow:0 0 0 3px rgba(59,130,246,.2); }

/* Force le sombre même en autofill */
/* ✅ laisse le gradient --auth-input-bg s’afficher normalement */
.auth-form .form-input{
  background: var(--auth-input-bg) !important;
  color:#fff !important;
  -webkit-text-fill-color:#fff !important;
  background-clip: padding-box;
}
/* ✅ autofill: pas de surpeinture opaque, on garde le gradient */
.auth-form .form-input:-webkit-autofill{
  -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
  box-shadow: inset 0 0 0 1000px transparent !important;
  -webkit-text-fill-color:#fff !important;
}
.auth-form .form-input:focus{
  background: var(--auth-input-bg) !important;
}

.form-inline{
  width:min(520px,100%); display:flex; justify-content:space-between; align-items:center;
  margin-top:.6rem; font-size:.92rem; color:var(--sdx-text-dim);
}
.form-inline a{ color:var(--sdx-text); text-underline-offset:3px; }
.form-inline a:hover{ color:var(--sdx-accent); }

/* Google button */
.google-button-wrapper{ width:min(520px,100%); display:flex; justify-content:center; margin:12px auto 0; }
.sdx-google-btn{
  display:inline-flex; align-items:center; justify-content:center; gap:10px;
  padding:10px 16px; border-radius:10px; border:1px solid rgba(0,0,0,.08);
  background:#fff; color:#1f2937; font-weight:700; font-size:.95rem;
  box-shadow:0 1px 1px rgba(0,0,0,.04), 0 1px 3px rgba(0,0,0,.06);
}
.sdx-google-icon{ width:18px; height:18px; }

.sdx-google-btn{ width:100%; }                         /* le bouton Google prend la largeur du wrapper */

/* 🔒 Aligne/égalise le CTA même si le composant impose autre chose */
.auth-form-inner .dbt-btn,
.auth-form-inner button[type="submit"]{
  width:min(520px,100%) !important;                    /* = inputs & wrapper Google */
  max-width:100% !important;
  display:block !important;
  margin:8px auto 0 !important;                        /* centre horizontal */
  padding:10px 16px !important;                        /* hauteur comme Google */
  box-sizing:border-box;
}
/* ============ SÉPARATEUR CENTRAL (desktop) ============ */
.auth-box::after{
  content:""; position:absolute; inset:24px auto 24px 50%; width:1px; transform:translateX(-.5px);
  background:linear-gradient(to bottom, transparent, rgba(255,255,255,.08) 12%,
                             rgba(255,255,255,.12) 50%, rgba(255,255,255,.08) 88%,
                             transparent);
  pointer-events:none; z-index:2; border-radius:1px; box-shadow:0 0 12px rgba(0,0,0,.15);
}

/* ============ FOOTER LÉGAL ============ */
.auth-legal{
  position:relative; z-index:1; width:100%; max-width:min(var(--sdx-maxw), 92vw);
  display:flex; justify-content:center; gap:1.4rem; margin-top:16px;
  font-size:.9rem; color:var(--sdx-text-dim);
}
.auth-legal a{ color:var(--sdx-text-dim); } .auth-legal a:hover{ color:var(--sdx-accent); }

/* ✅ Mobile UI masquée par défaut sur desktop */
.auth-mobile-header,
.auth-mobile-switch{ display: none; }

/* ============ MOBILE (≤750px) ============ */
@media (max-width:750px){
  html, body, .auth-container{ overflow-x:hidden; }

  /* 📱 Conteneur global scrollable pour éviter les boutons cachés */
  .auth-container{
     min-height:100vh;
    height:auto;
    overflow-y: auto !important;          /* ✅ scroll forcé sur mobile court */
    overflow-x:hidden;
    -webkit-overflow-scrolling: touch;
    display:flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items:center;
    padding:1rem 1rem 3.2rem;             /* 🔹 + d’air bas pour “Se connecter” */
  }
  .auth-box{
    flex-direction:column;
    width:100%;
    max-width:100%;
    height:auto;
    min-height:unset;
    margin:0;
    padding:16px;
    box-sizing:border-box;
    overflow: visible;
  }
  .auth-box::after{ display:none; } /* pas de ligne verticale */
  /* panneau info masqué */
  .info-panel{ display:none !important; }
 
  .form-panel{
    width:100%;
    padding:10px;
    align-items:initial;
    justify-content:initial;
    min-height:auto;                  /* 🔹 annule le 100% du desktop */
    overflow-y:auto;                  /* 🔹 active le scroll dans le panel */
    -webkit-overflow-scrolling:touch; /* 🔹 inertie iOS */
  }

  /* forms non superposés : on n’affiche que l’actif */
  .auth-form{
    position:relative;
    inset:auto;
    transform:none;
    opacity:1;
    display:none;
    padding:0;
    width:100%;
    max-width:100%;
  }
  .auth-box.login-active .login-form{ display:flex; }
  .auth-box.register-active .register-form{ display:flex; }

  /* éléments interactifs plein large */
  .form-input,
  .form-inline,
  .google-button-wrapper,
  .sdx-google-btn,
  .info-panel .dbt-btn,
  .form-panel .dbt-btn{
    width:100%;
    max-width:100%;
    margin:0;
    box-sizing:border-box;
  }
  /* footer compact et centré */
 .auth-legal{
    margin-top:12px;
    flex-wrap:wrap;
    row-gap:.6rem;
    text-align:center;
  }
  /* ✅ Logo mobile toujours visible + léger resserrage du switch */
  .auth-mobile-header{
    display:flex !important;
    justify-content:center;
    align-items:center;
    width:100%;
    padding:12px 16px 2px;
    opacity:1 !important;
    visibility:visible !important;
    position: relative;
    z-index: 5;
  }
  /* ✅ Centre correct : le wrapper garde sa largeur au contenu */
  .auth-mobile-header a,
  .auth-mobile-header .btz-logo{
    display:inline-flex;
    width:auto;
    margin:0 auto;
    align-items:center;
    justify-content:center;
  }
  .auth-mobile-header .btz-svg{
    display:block;
    margin:0 auto;
  }

  .auth-mobile-header{
    --auth-logo-offset-x: 15px;    /* 🔧 ajuste ici si besoin (ex: 6px, 10px) */
  }
  .auth-mobile-header .btz-svg{
    transform: translateX(var(--auth-logo-offset-x)) translateZ(0);
  }
  /* ✅ Force la visibilité du SVG sans toucher les autres emplacements du logo */
  .auth-mobile-header .btz-svg{ 
    opacity:1 !important; 
    filter:none !important; 
    mix-blend-mode:normal !important; 
  }

   /* 🎯 Spécifique Auth: animation du mot “Tradz” masquée tant qu'il est derrière
     et fin resserrée. N'affecte PAS les autres pages. */
  .auth-mobile-header .btz-txt--tradz{
    animation-name: btz-tradz-slide-auth !important;
    opacity: 0; /* état initial sûr avant que l’anim démarre */
  }

  @keyframes btz-tradz-slide-auth{
  0%  { transform: translateX(-44px); opacity: 0; }
  30%  { opacity: .25; }
  66%  { opacity: .85; }
  100% { transform: translateX(0);    opacity: 1; }
}
  .auth-mobile-switch{
    display:flex;
    justify-content:center;
    width:100%;
    padding:0 16px 0;        /* 🔹 encore plus serré avec le titre */
    margin-bottom:0;         /* 🔹 quasi collé */
  }
  .auth-mobile-switch .pill-tabs,
  .auth-mobile-switch .pilltabs,
  .auth-mobile-switch [class*="pill"]{
    transform:scale(.94);
    transform-origin:center;
  }
  .auth-mobile-switch button{
    font-size:.92rem;
    padding:6px 12px;
  }

  /* rythme vertical interne */
  .auth-form-inner{
    width:100%;
    max-width:520px;
    margin:0 auto;
  }
  .auth-form-inner .form-input{ margin-bottom:12px; }
  .auth-form-inner .dbt-btn{ margin-top:8px; }
  .auth-form-inner .form-inline{ margin-top:10px; margin-bottom:8px; }
  .auth-form-inner .google-button-wrapper{ margin-top:12px; margin-bottom:4px; }
}

/* ============ MICRO (≤480 / ≤360) ============ */
@media (max-width:480px){ .success-page{ width:calc(100vw - 24px); padding:1.4rem; } }
@media (max-width:360px){
  .success-page{ width:calc(100vw - 16px); padding:1.1rem; }
  .form-title, .info-panel h2{ font-size:1.6rem; }
}

/* ============ OVERLAY SUCCESS (inchangé) ============ */
.overlay-backdrop{
  position:fixed; inset:0; z-index:1000; background:rgba(10,15,25,.55);
  backdrop-filter:blur(8px); -webkit-backdrop-filter:blur(8px);
  display:grid; place-items:center; animation:fadeInBg .25s ease;
}
@keyframes fadeInBg{ from{opacity:0} to{opacity:1} }
.success-page{
  width:clamp(300px, 72vw, 640px); margin:10vh auto; padding:2.2rem;
  background:var(--sdx-card); color:var(--sdx-text);
  border:var(--sdx-border); border-radius:var(--sdx-radius); box-shadow:var(--sdx-shadow);
  text-align:center; animation:fadeInUp .35s ease;
}
@keyframes fadeInUp{ from{opacity:0; transform:translateY(22px)} to{opacity:1; transform:none} }
.signup-title{ font-size:clamp(1.6rem, 2.3vw, 2.1rem); font-weight:800; margin:0 0 1rem; color:var(--sdx-text); }
.signup-title .text-brand{ color:var(--sdx-accent); font-weight:700; }
.signup-body{ margin-bottom:1.6rem; color:var(--sdx-text-dim); }
.signup-actions{ display:flex; flex-direction:column; gap:14px; margin-top:1.4rem; }
.signup-actions .dbt-btn{ width:100%; max-width:520px; margin:0 auto; display:block; }
