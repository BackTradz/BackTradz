/* =====================================================================
   HOME THEME — BackTradz
   - Nettoyage : doublons supprimés, sections regroupées
   - ZÉRO RÉGRESSION : mêmes sélecteurs, mêmes valeurs utiles
   ===================================================================== */

/* ---------------------------------------------------------------------
   TOKENS LOCAUX (Home) + WIDTH VARS (regroupées ici)
   --------------------------------------------------------------------- */
:root{
  /* largeurs / containers (valeurs déjà utilisées partout) */
  --home-max: 1280px;
  --btz-container: 1280px;
  --btz-vw: 96vw;
  --btz-gutter: 12px;

  /* gutter CTA mobile (≤600px) */
  --home-cta-gutter: 14px;
}

.home-page{
  /* couleurs locales (fond global = grille hex, donc transparent ici) */
  --bg:#1e293b;
  --card:#0f1627;
  --ink:#e6ecff;
  --muted:#94a3b8;
  --dots:#ffffff0a;
  --beam:#ffffff10;
  --glow:#3b82f620;

  background: transparent; /* on laisse la grille globale s’afficher */
  color: var(--ink);
  min-height: 100vh;
}

/* conteneur standard */
.container-std{ max-width:1160px; margin:0 auto; padding:20px; }

/* ---------------------------------------------------------------------
   HERO (titre + sous-titre + CTA)
   --------------------------------------------------------------------- */
.hero{
  position:relative;
  min-height:62vh;
  display:flex; align-items:center; justify-content:center;
  text-align:center; overflow:hidden;
  background:transparent;
  isolation:isolate;
  padding-top:48px;
}

.hero h1{
  font-weight:800; letter-spacing:.2px;
  /* Effet chrome (identique au slogan HeroMessage), sans animation */
  background: linear-gradient(180deg, #f8faff 0%, #cdd9ff 48%, #9ab4ff 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow:
    0 0 10px rgba(80,130,255,0.06),
    0 2px 6px rgba(0,0,0,0.35);
   /* Harmonisation: un cran au-dessus du slogan */
  font-size: clamp(24px, 3.4vw, 34px);
  line-height: 1.15;
  letter-spacing: .15px;
}

/* Bleu nuit “signature” pour les mots accentués dans le H1 */
.hero h1 .accent{
  background: linear-gradient(180deg, #6aa0ff 0%, #2f51ff 55%, #1a2b6e 100%);
  -webkit-background-clip:text; -webkit-text-fill-color:transparent;
  text-shadow: 0 0 8px rgba(60,110,255,0.25), 0 2px 6px rgba(0,0,0,0.35);
}

/* Sous-titre : teinte unique (plus lisible) + emphase sur <strong> */
.hero p{
  color: rgba(210,225,255,0.92);
  max-width:920px; margin:0 auto; opacity:1;
}

.hero p strong{ color:#ffffff; font-weight:800; }

/* densité compacte (titre/texte/cta) */
.hero .content{ max-width: 880px; }
.hero .content-tight > * { margin-top:0 !important; }
.hero .content-tight > * + * { margin-top:6px !important; }
.hero .content .hero-note{ margin-top:10px !important; }

/* CTA sizing + “bandeau” safe */
.hero .content .dbt-btn{ width:auto; min-width:260px; padding-inline:22px; }
.hero .content .cta-wrap{ display:inline-flex; justify-content:center; }

/* neutralise underline décoratif éventuel */
.hero h1::after, .hero .hero-underline{
  content:none !important; display:none !important;
}
/* HERO — spacing top plus compact (nav ↔ titre) */
.hero {
  /* garde ta config existante, on ne change que le top-padding */
  padding-top: clamp(28px, 4.5vh, 52px);
}
.hero h1 {
  margin-top: 0;             /* au cas où une marge remonte du thème */
  margin-bottom: 10px;       /* resserre un chouïa sous le titre */
}


/* micro-tuning mobile */
@media (max-width:520px){
  .hero{ padding:18px 0 8px; }
  .hero .content{ margin-top:-4px; }
  .hero p{ font-size:1.05rem; }
}
@media (max-width:400px){
  .hero .content{ max-width:92vw; }
  .hero .content p{ font-size:1.02rem; }
}


/* ---------------------------------------------------------------------
   BRIDGE (petit paragraphe entre hero & top strategies)
   --------------------------------------------------------------------- */
.home-page .home-bridge{
  margin:12px auto 18px !important;
  max-width:1100px; text-align:center;
  font-size:1.05rem; color:#cfe3ff; opacity:.95;
}

/* ---------------------------------------------------------------------
   TOP STRATEGIES (grille & cartes)
   --------------------------------------------------------------------- */
.ts-wrap{
  box-sizing:border-box !important;
  width:min(var(--home-max), 98vw) !important;
  margin:30px auto 32px !important;
  padding:0 8px !important;
  /* Couleur locale pour les KPIs gagnants (vert flash unique) */
  --ts-win-green: #34ff8a; /* vert néon lisible sur fond sombre */
}

/* Titre centré + respiration homogène */
.ts-wrap .section-title,
.ts-wrap h2{            /* selon l’implémentation de SectionTitle */
  text-align:center;
  margin-left:auto; margin-right:auto;
  max-width:1100px;
}

/* ✨ Titre “chrome” très léger (cohérent avec le Hero) */
.ts-wrap .section-title,
.ts-wrap h2{
  background: linear-gradient(180deg, #f8faff 0%, #cdd9ff 48%, #9ab4ff 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow:
    0 0 10px rgba(80,130,255,0.06),
    0 2px 6px rgba(0,0,0,0.35);
  letter-spacing: .2px;
}
/* petite barre lumineuse très discrète sous le titre (pas d’underline global) */
.ts-wrap .section-title::after,
.ts-wrap h2::after{
  content:"";
  display:block;
  width:120px; height:2px;
  margin:10px auto 2px;
  border-radius:999px;
  background: radial-gradient(60% 120% at 50% 50%, rgba(90,140,255,.45), rgba(90,140,255,.00));
  filter: drop-shadow(0 0 6px rgba(90,140,255,.25));
}

.ts-error{ color:#ef4444; margin:8px 0 20px; }

.ts-grid{
  display:grid; grid-template-columns:repeat(3, minmax(0,1fr));
  gap:20px !important;
}
@media (max-width:1024px){ .ts-grid{ grid-template-columns:repeat(2, minmax(0,1fr)); gap:16px !important; } }
@media (max-width:640px){ .ts-grid{ grid-template-columns:1fr; } }

.ts-card{
  /* Aurora identique à .hero-card--below (HeroMessage) */
  background:
    radial-gradient(140% 100% at 50% 68%,
      rgba(56, 96, 220, 0.12) 0%,
      rgba(22, 34, 68, 0.09) 42%,
      rgba(10, 16, 28, 0.08) 62%,
      rgba(6, 10, 18, 0.06) 82%,
      transparent 100%
    ),
    linear-gradient(180deg,
      rgba(5, 8, 14, 0.62) 0%,
      rgba(6, 10, 18, 0.62) 100%
    );
 border: 1px solid rgba(90,130,255,0.14);          /* bord bleuté */
  border-radius:16px !important;
  padding:14px 16px 12px !important;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.035),
   0 10px 38px rgba(0,0,0,0.40),
    0 0 12px rgba(0,100,255,0.10);
  transition: transform .22s ease, box-shadow .22s ease, border-color .22s ease;
  backdrop-filter: blur(4px) saturate(112%);        /* translucide + net */
  will-change: transform, filter; /* perf GPU pendant l’ani */
}

/* Désactive transitions & filtres si réduction des animations */
@media (prefers-reduced-motion: reduce){
  .ts-card{ transition: none !important; filter: none !important; transform: none !important; }
}

.ts-card:hover{
  transform: translateY(-2px);
 border-color: rgba(100,150,255,0.18);
  box-shadow:
    0 14px 40px rgba(0,0,0,0.45),
    0 0 18px rgba(64,140,255,0.18);
}

.ts-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:8px !important; }
.ts-badges{ display:flex; gap:8px; align-items:center; }
.ts-badge{
  font-size:12px !important; color:#cfe0ff;
  /* + premium translucide : blur léger + saturation */
  background: rgba(11,18,33,0.58);
  border:1px solid rgba(255,255,255,0.12);
  backdrop-filter: blur(6px) saturate(140%);
  -webkit-backdrop-filter: blur(6px) saturate(140%);
  /* inner-glow discret + glow extérieur doux */
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.08),
    0 2px 8px rgba(64,140,255,0.10);
  padding:5px 10px !important; border-radius:999px; white-space:nowrap;
}
.ts-badge--pair{ font-weight:700; color:#e6ecff; }
.ts-badge--tf{ opacity:.92; }
.ts-range{ color:rgba(198,210,235,.75); font-size:12px; }
.ts-range .mx{ opacity:.6; padding:0 4px; }
.ts-body{ display:grid; gap:8px; }
.ts-row{
  display:grid; grid-template-columns:1fr auto;
  align-items:center; gap:8px; padding:7px 0 !important;
  border-top:1px dashed rgba(255,255,255,0.06);
}
.ts-row:first-child{ border-top:0; padding-top:0; }
.ts-label{ color:rgba(198,210,235,.90); font-size:14px; }
.ts-value{ display:inline-flex; align-items:center; gap:8px; }
.ts-strat, .ts-kpi{ font-weight:800; color:#e6ecff; }
.ts-kpi.good{ color:#34d399; }
/* ✅ Un seul vert pour tous les winrates positifs */
.ts-kpi.good,
.ts-kpi.great{
  color: var(--ts-win-green);
  text-shadow: 0 0 8px color-mix(in oklab, var(--ts-win-green) 24%, transparent);
}

/* Carte "hot" (winrate ≥70) : liseré + glow subtil, cohérent Aurora */
.ts-card--hot{
  border-color: rgba(120,180,255,0.22) !important;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.045),
    0 12px 40px rgba(0,0,0,0.45),
    0 0 18px rgba(80,150,255,0.18);
}

/* Skeleton */
@keyframes skel{ to{ background-position-x:-200%; } }
.ts-skel .skel{
  height:12px; border-radius:8px;
  background:linear-gradient(90deg, rgba(255,255,255,.06) 0%, rgba(255,255,255,.10) 50%, rgba(255,255,255,.06) 100%);
  background-size:200% 100%;
  animation: skel 1.2s infinite linear;
}
/* --------------------  Top Strategies : Mobile polish  -------------------- */
@media (max-width: 360px){
  /* Ligne KPI = libellé à gauche, % calé à droite, no-wrap */
  .ts-row{
    display:flex; align-items:center; justify-content:space-between;
    gap:12px; flex-wrap:nowrap;
  }
  .ts-row .ts-label{
    flex:0 1 auto; max-width:60%;
    overflow:hidden; text-overflow:ellipsis; white-space:nowrap;
  }
  .ts-row .ts-kpi{
    flex:0 0 auto; white-space:nowrap; margin-left:auto;
  }

  /* Date (range) : forcer le non-retour à la ligne quel que soit le markup */
  .ts-card :is(.ts-dates, .ts-date, .date, time){
    white-space:nowrap; display:inline-block;
  }
}

/* ---------------------------------------------------------------------
   ALIGNEMENTS LARGEURS (Hero vs TopStrategies) — unifié
   --------------------------------------------------------------------- */
.home-page .hero-card--below,
.home-page .ts-wrap{
  box-sizing:border-box !important;
  width:min(var(--btz-container), var(--btz-vw)) !important;
  padding-left:var(--btz-gutter) !important;
  padding-right:var(--btz-gutter) !important;
  margin-left:auto !important; margin-right:auto !important;
}

/* enchaînement bridge/ts */
.home-page .hero-msg + .home-bridge{ margin-top:10px !important; }
.home-page .home-bridge + .ts-wrap{ margin-top:12px !important; }

/* bandeaux pleine largeur éventuels */
.home-wide{ width:100%; max-width:none; margin:0; padding:0; }
.section-pad{ padding:28px 0; }

/* ---------------------------------------------------------------------
   UTILITAIRES DE VISIBILITÉ
   --------------------------------------------------------------------- */
.only-mobile{ display:none; }
.only-desktop{ display:inline; }
@media (max-width:1000px){
  .only-mobile{ display:inline; }
  .only-desktop{ display:none; }
}

/* ---------------------------------------------------------------------
   MOBILE TIGHT (≤360px) — CTA & grille safe area
   --------------------------------------------------------------------- */
@media (max-width:360px){
  /* hero cards safe padding */
  .home-page .hero-card--docked,
  .home-page .hero-card--below{
    padding-left:12px !important; padding-right:12px !important;
  }
  /* actions empilées */
  .hero-actions{ flex-direction:column; align-items:stretch; gap:10px; }
  .hero-actions .cta-button,
  .hero-actions a[class*="cta"],
  .hero-actions a[href="/dashboard"]{ width:100%; }

  /* grille TS compacte */
  .home-page .ts-wrap{ padding-left:10px !important; padding-right:10px !important; }
  .home-page .ts-grid{ grid-template-columns:1fr !important; gap:12px !important; }
  .home-page .ts-card{ padding:12px !important; border-radius:14px !important; }
  /* Header carte : badges à gauche, date à droite, même ligne */
  .home-page .ts-head{
    flex-direction: row;
    align-items: center;
    gap: 6px;
    flex-wrap: nowrap;          /* empêche la date de descendre */
  }
  .home-page .ts-badges{
    flex: 0 1 auto;
    min-width: 0;               /* autorise le wrap des chips si besoin */
  }
  .home-page .ts-range{
    margin-left: auto;          /* pousse totalement à droite */
    white-space: nowrap;        /* date sur une seule ligne */
    font-size: 11.5px;          /* compaction légère pour 320px */
    letter-spacing: .1px;
  }
  .home-page .ts-range .mx{ padding:0 3px; } /* espace flèche réduit */
  .home-page .ts-badges{ flex-wrap:wrap; row-gap:6px; }
  .home-page .ts-range{ font-size:11px; }
  /* on garde l’affichage flex défini plus haut, ici on réduit juste l’espace */
  .home-page .ts-row{ gap:6px; }
}

/* ---------------------------------------------------------------------
   MOBILE SAFE GUTTER (≤600px) — CTA principal
   --------------------------------------------------------------------- */
@media (max-width:600px){
  .home-hero, .hero, .hero-content, .hero-inner{
    padding-left:var(--home-cta-gutter) !important;
    padding-right:var(--home-cta-gutter) !important;
    box-sizing:border-box;
  }
  .home-hero .dbt-btn, .hero .dbt-btn{
    max-width:100% !important; width:100% !important; box-sizing:border-box;
  }
}
