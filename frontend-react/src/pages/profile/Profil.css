/* ────────────────────────────────────────────────────────────────────────────
   BackTradz — Page Profil (V1.5 CLEAN, no regression)
   - Tokens root (aurora / verre métrique)
   - AUCUN changement de structure ou de tailles
   - Doublons supprimés, règles consolidées, sections claires
   ──────────────────────────────────────────────────────────────────────────── */


/* =============== 1) THEME TOKENS ================= */
:root{
  /* Layout */
  --container-max: 1280px;
  --container-px: 24px;
  --pad-card: 24px;
  --gap: 16px;

  /* Typo */
  --text: #fff;
  --text-muted: rgba(255,255,255,.60);
  --text-subtle: rgba(232,233,255,.45);

  /* Surfaces & borders */
  --card-border: rgba(255,255,255,.08);
  --card-border-strong: rgba(255,255,255,.12);
  --panel-bg: rgba(24,34,54,.90);

  /* Buttons */
  --btn-h: 40px;
  --btn-surface: rgba(12,18,30,.56);
  --btn-surface-hover: rgba(18,26,42,.66);
  --btn-border: rgba(120,170,255,.28);

  /* Brand (gradient profond) */
  --brand-deep-1:#0b2a7a;
  --brand-deep-2:#1e3a8a;
  --brand-deep-3:#2563eb;
  --btn-glow: rgba(37,99,235,.28);

  /* State */
  --danger:#c0392b;
  --danger-hover:#a33226;

  /* Radii */
  --radius-card:14px;
  --radius-input:10px;

  /* Motion & shadows */
  --dur-fast:.18s;
  --dur-med:.22s;
  --shadow-lg:0 12px 30px rgba(0,0,0,.30);

  /* Inputs */
  --input-pad:12px;
  --input-focus: rgba(99,102,241,.65);
  --input-ring: rgba(79,70,229,.18);

  /* ── Recette AURORA (sections principales) ─────────────────────────────── */
  --pr-outer-bd: rgba(90,130,255,.14);
  --pr-outer-bg:
    radial-gradient(140% 100% at 50% 68%,
      rgba(56,96,220,.10) 0%,
      rgba(22,34,68,.09) 42%,
      rgba(10,16,28,.08) 62%,
      rgba(6,10,18,.06) 82%,
      transparent 100%
    ),
    linear-gradient(180deg, rgba(5,8,14,.65) 0%, rgba(6,10,18,.65) 100%);
  --pr-outer-shadow:
    inset 0 1px 0 rgba(255,255,255,.04),
    0 10px 38px rgba(0,0,0,.45),
    0 0 12px rgba(0,100,255,.12);
  --pr-outer-backdrop: blur(8px) saturate(110%);

  /* ── Recette VERRE MÉTRIQUE (sous-sections) ───────────────────────────── */
  --pr-inner-bd: rgba(120,170,255,.10);
  --pr-inner-bg:
    radial-gradient(120% 140% at 50% 115%, rgba(0,0,0,.14) 0%, rgba(0,0,0,0) 60%),
    linear-gradient(180deg, rgba(10,16,28,.64) 0%, rgba(8,12,20,.66) 100%);
  --pr-inner-shadow:
    inset 0 1px 0 rgba(255,255,255,.035),
    0 12px 28px rgba(0,0,0,.32);
  --pr-inner-backdrop: blur(10px) saturate(112%);
}


/* =============== 2) LAYOUT & TITRES ================= */
.container{
  max-width:var(--container-max);
  margin:24px auto;
  padding:0 var(--container-px);
  position:relative; z-index:1;
}
.page-title{
   /* Chrome typographique identique au Hero */
  color: var(--text-main); /* fallback non-webkit */
  background: linear-gradient(180deg, #f8faff 0%, #cdd9ff 48%, #9ab4ff 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  position: relative;
  /* profondeur subtile + lisibilité (mêmes valeurs que Hero) */
  text-shadow:
    0 0 10px rgba(80,130,255,0.06),
    0 2px 6px rgba(0,0,0,0.35);
  transition: filter 0.4s ease;
  will-change: filter; /* micro-optimisation */
  font-weight:700;
  font-size:28px;
  margin-bottom:16px;
}
.page-profile .page-title{ text-align:center; }


/* =============== 3) SECTIONS / CARDS ================= */
/* Carte principale (aurora) */
.card{
  background:var(--pr-outer-bg);
  border:1px solid var(--pr-outer-bd);
  border-radius:var(--radius-card);
  padding:var(--pad-card);
  backdrop-filter:var(--pr-outer-backdrop);
  -webkit-backdrop-filter:var(--pr-outer-backdrop);
  box-shadow:var(--pr-outer-shadow);
  transition: box-shadow .4s ease, transform .4s ease, border-color .4s ease;
}
.card + .card{ margin-top:var(--gap); }
.card-title{ color:var(--text); font-weight:600; margin-bottom:12px;text-align: center; }

/* Sous-section (verre métrique) */
.pr-subsection{
  border:1px solid var(--pr-inner-bd);
  background:var(--pr-inner-bg);
  backdrop-filter:var(--pr-inner-backdrop);
  -webkit-backdrop-filter:var(--pr-inner-backdrop);
  box-shadow:var(--pr-inner-shadow);
  border-radius:12px;
  padding:14px 16px;
}

/* Grille utilitaire conservée */
.grid-2{ display:grid; grid-template-columns:1fr; gap:var(--gap); }
@media (min-width:900px){ .grid-2{ grid-template-columns:1fr 1fr; } }


/* =============== 4) BOUTONS ================= */



/* groupe d’actions */
.quick-actions{
  display:flex; gap:8px; margin:10px 0 18px; flex-wrap:wrap;
  position:relative; z-index:40;
}


/* =============== 5) FORMULAIRES ================= */
/* Rythme plus dense, pro */
.form-grid{ display:grid; gap:10px; width:100%; }
/* Labels : même inset que le texte des inputs + rythme vertical propre */
.page-profile .form-grid label{
  color: rgba(255,255,255,.85);
  font-size: 14px;
  font-weight: 600;
  letter-spacing: .2px;
  display: block;
  margin-bottom: 2px;
  padding-left: var(--input-pad);       /* ⬅️ aligne sur le texte des inputs */
}
/* inputs → verre métrique */
.page-profile .form-grid input{
  appearance:none; -webkit-appearance:none;
  width:100%; height:42px; padding:0 var(--input-pad); margin:0;
  border-radius:var(--radius-input);
  border:1px solid var(--pr-inner-bd);
  background:var(--pr-inner-bg);
  backdrop-filter:var(--pr-inner-backdrop);
  -webkit-backdrop-filter:var(--pr-inner-backdrop);
  box-shadow:var(--pr-inner-shadow);
  color:#e8e9ff; box-sizing:border-box; outline:none;
}
.page-profile .form-grid input::placeholder{ color:var(--text-subtle); }
.page-profile .form-grid input:focus{
  border-color:var(--input-focus);
  box-shadow:0 0 0 3px var(--input-ring), var(--pr-inner-shadow);
}

/* Autofill */
.page-profile .form-grid input:-webkit-autofill,
.page-profile .form-grid input:-webkit-autofill:hover,
.page-profile .form-grid input:-webkit-autofill:focus{
  -webkit-text-fill-color:#e8e9ff;
  transition:background-color 9999s ease-out 0s, color 9999s ease-out 0s;
  box-shadow:0 0 0 1000px transparent inset !important;
  caret-color:#e8e9ff;
}

/* hints */
.page-profile .form-grid .form-hint,
.page-profile .form-grid small.form-hint{
  display: block;
  margin-top: 4px;                      /* espace respirant sous l’input */
  margin-bottom: 0;
  line-height: 1.35;
  font-size: 12px;
  color: var(--text-subtle);
  padding-left: var(--input-pad);       /* ⬅️ aligne avec le texte des inputs */
}


/* =============== 6) FEEDBACK / TOAST ================= */
.toast{
  position:fixed; right:16px; bottom:16px;
  background:var(--panel-bg); color:var(--text);
  border:1px solid var(--card-border-strong);
  padding:10px 14px; border-radius:var(--radius-input);
  box-shadow:var(--shadow-lg);
  animation: slideIn var(--dur-fast) ease-out, fadeOut 4s ease 2s forwards;
  z-index:60;
}


/* =============== 7) SKELETON ================= */
.skeleton-card{
  height:84px; border-radius:var(--radius-card);
  background:linear-gradient(90deg, rgba(255,255,255,.04), rgba(255,255,255,.08), rgba(255,255,255,.04));
  animation:shimmer 1.2s infinite; margin-bottom:var(--gap);
}
.skeleton-row{
  height:42px; border-radius:var(--radius-input);
  background:linear-gradient(90deg, rgba(255,255,255,.04), rgba(255,255,255,.08), rgba(255,255,255,.04));
  animation:shimmer 1.2s infinite; margin-bottom:12px;
}


/* =============== 8) PURCHASE HISTORY ================= */
.purchase-row{
  display:grid; grid-template-columns:1fr auto; gap:12px; align-items:center;
  padding:12px 14px; border-radius:12px;
  background:rgba(255,255,255,.04); border:1px solid var(--card-border);
  margin-bottom:10px;
  transition: transform var(--dur-fast) ease, background var(--dur-med) ease, border-color var(--dur-med) ease;
}
.purchase-row:hover{ background:rgba(255,255,255,.06); border-color:rgba(255,255,255,.12); }
.purchase-main{ min-width:0; }
.purchase-title{ color:var(--text); font-weight:600; font-size:14px; overflow-wrap:anywhere; word-break:break-word; }
.purchase-meta{ color:var(--text-muted); font-size:13px; }
/* Boutons "Afficher tout" / "Revenir" — centrés sous la liste */
.purchase-actions{
  display:flex;
  justify-content:center;
  margin-top:12px;
}

/* =============== 9) ACCORDION ================= */
.accordion-item{
  border:1px solid rgba(255,255,255,.10);
  border-radius:var(--radius-card);
  background:rgba(255,255,255,.03);
  overflow:hidden; margin-bottom:12px;
}
.accordion-summary{
  width:100%; text-align:left; display:grid; grid-template-columns:1fr auto auto;
  gap:10px; align-items:center; padding:12px 14px; color:var(--text);
  font-weight:600; background:transparent; border:none; cursor:pointer; user-select:none;
}
.acc-title{ font-size:14px; }
.acc-count{ color:rgba(255,255,255,.7); font-size:13px; }
.acc-chevron{ opacity:.7; transition:transform var(--dur-med) ease; }
.acc-chevron.rot{ transform:rotate(180deg); }
.accordion-content{ overflow:hidden; transition:max-height var(--dur-med) ease; padding:0 12px; }
.accordion-content.open{ padding:10px 12px 12px; }


/* =============== 10) SETTINGS & OUTILS ================= */
.card-hover{ transition: box-shadow var(--dur-med) ease, border-color var(--dur-med) ease, transform var(--dur-fast) ease; }
.card-hover:hover{ border-color:rgba(99,102,241,.30); box-shadow:var(--shadow-lg); transform:translateY(-1px); }

.settings-header{ margin-bottom:14px; }
.sub-title{ color:var(--text); font-weight:600; margin:6px 0 10px; font-size:16px; }

.settings-grid{ display:grid; grid-template-columns:1fr; gap:var(--gap); }
@media (min-width:900px){
  .settings-grid{ grid-template-columns:1fr 1px 1fr; align-items:start; gap:22px; }
}

/* Centre les titres des 2 panneaux (Infos perso / Sécurité) uniquement ici */
.settings-grid .sub-title{ text-align:center; }

.settings-divider{ display:none; }
@media (min-width:900px){
  .settings-divider{ display:block; width:1px; height:100%;
    background:linear-gradient(to bottom, transparent, rgba(255,255,255,.12), transparent); }
}

/* Color picker */
.color-picker-wrapper{ display:flex; align-items:center; gap:10px; }
.color-input{ position:absolute; opacity:0; width:0; height:0; }
.color-bubble{ width:22px; height:22px; border-radius:50%; border:2px solid #444; cursor:pointer; transition:transform .2s, box-shadow .2s; }
.color-bubble:hover{ transform:scale(1.1); box-shadow:0 0 6px rgba(255,255,255,.3); }
.color-label{ font-size:14px; color:#ddd; }

/* =============== SUPPORT & ASSISTANCE =============== */
/* Centre toute la section ; conserve une lecture confortable de la liste */
.support-card{ text-align:center; }
.support-card .btn{ display:inline-flex; margin:15px auto 0; }

/* Liste : mobile = colonne ; desktop = ligne centrée avec puces bleues */
.support-card ul{
  display:flex;
  flex-direction:column;     /* mobile par défaut */
  align-items:center;
  justify-content:center;
  gap:10px 48px;
  margin:14px 0;
  padding:0;                 /* on gère nos puces nous-mêmes */
  list-style:none;
}
.support-card li{
  position:relative;
  padding-left:18px;         /* room pour la puce */
  margin:0;
}
.support-card li::before{
  content:"";
  position:absolute;
  left:0; top:50%;
  transform:translateY(-50%);
  width:8px; height:8px;
  border-radius:50%;
  background: var(--brand-deep-3); /* bleu signature */
}
@media (min-width:900px){
  .support-card ul{
    flex-direction:row;      /* une ligne sur desktop */
  }
}

/* Alerts */
.alert{ border-radius:12px; padding:12px; display:grid; gap:8px; }
.alert-success{ background:#0f3b2b; border:1px solid #1e7c57; color:#d6ffe8; }
.alert-warn{ background:#3a320e; border:1px solid #9a7b20; color:#fff3c8; }
.alert-error{ background:#3b1111; border:1px solid #a33b3b; color:#ffd9d9; }
.alert-info{ background:#11223b; border:1px solid #2c4b8a; color:#d9e6ff; }
.alert-actions{ display:flex; gap:8px; flex-wrap:wrap; }
.alert-link-input{
  flex:1 1 240px; min-width:200px; padding:8px 10px; border-radius:8px;
  background:#0b1220; color:#e6f0ff; border:1px solid #22304a; font-family:monospace;
}

/* Badges minimalistes */
.badge{ display:inline-flex; align-items:center; padding:6px 10px; border-radius:999px; font-weight:600; font-size:.9rem; }
.badge-success{ background:#103d2b; color:#bfffe1; border:1px solid #1f805b; }

/* Avatar fallback */
.user-bubble{
  display:inline-flex; align-items:center; justify-content:center;
  border-radius:9999px; background:var(--avatar-bg,#334155); color:var(--avatar-fg,#fff);
  font-weight:600; font-size:.95rem;
}
.page-profile .user-bubble{ width:40px; height:40px; }


/* =============== 11) RESPONSIVE ================= */
/* Hero profil */
.page-profile .profile-hero-row{ display:flex; align-items:center; gap:16px; flex-wrap:nowrap; }
.page-profile .profile-hero-infos{ flex:1; min-width:0; }
.page-profile .profile-hero-infos .user-name,
.page-profile .profile-hero-infos .user-email{ overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }

@media (max-width:520px){
  .page-profile .profile-hero-row{ flex-direction:column; align-items:stretch; text-align:left; }
  .profile-hero-row .mobile-list{ width:100%; margin-left:0; gap:6px; }
   .profile-hero-row .mobile-list li{ column-gap:12px; }
  /* V1.3 — espace propre entre label et valeur (évite "Planfree") */
  .profile-hero-row .mobile-list .label{ margin-right: 6px; }
  .page-profile .profile-hero-infos{ width:100%; min-width:auto; }
  .page-profile .profile-hero-infos .user-name,
  .page-profile .profile-hero-infos .user-email{ white-space:normal; word-break:break-word; }
  .page-profile .color-picker-wrapper{ margin-top:2px; width:100%; display:flex; justify-content:center; }
  .profile-hero-row .user-bubble{ margin:0 auto 2px; display:block; }
}

/* Toggles */
.desktop-only{ display:block; }
.mobile-only{ display:none; }
@media (max-width:640px){ .desktop-only{ display:none; } .mobile-only{ display:block; } }

/* Email longue */
.email{ word-break:break-word; overflow-wrap:anywhere; }

/* Forms small screens */
@media (max-width:340px){
  .page-profile .card .form-grid{ padding-left:12px; padding-right:12px; }
  /* conserve l’alignement en très petit écran */
  .page-profile .form-grid label,
  .page-profile .form-grid .form-hint,
  .page-profile .form-grid small.form-hint{ padding-left:12px; }
  .page-profile .form-grid input,
  .page-profile .form-grid select,
  .page-profile .form-grid textarea{ width:100%; box-sizing:border-box; }
}
@media (max-width:520px){
  .page-profile .card .form-grid{ padding-left:0; padding-right:0; }
  .page-profile .form-grid input,
  .page-profile .form-grid select,
  .page-profile .form-grid textarea{ width:100%; box-sizing:border-box; }
}


/* =============== 12) ANIMATIONS (global) ================= */
@keyframes shimmer{ 0%{background-position:-200px 0} 100%{background-position:200px 0} }
@keyframes slideIn{ from{transform:translateY(8px);opacity:0} to{transform:translateY(0);opacity:1} }
@keyframes fadeOut{ to{opacity:0;transform:translateY(6px)} }
.fade-in{ animation: slideIn var(--dur-fast) ease-out; }
.slide-up{ animation: slideIn var(--dur-med) ease-out; }
