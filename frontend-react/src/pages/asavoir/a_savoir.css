/* ==========================================================================
   BackTradz â€” Ã€ savoir (V1.4 Clean)
   - ðŸ§  Variables root centralisÃ©es : fonds outer/inner, typo, accents
   - ðŸŽ´ Cartes/sections : aurora + verre alignÃ©s avec Pricing/CSV Shop
   - ðŸ§­ TOC (sidebar + mobile) inclus
   - ðŸ§¹ Doublons retirÃ©s, sections commentÃ©es, responsive intact
   ========================================================================== */

/* =========================
   ðŸŽ›ï¸ VARIABLES GLOBALES
   - Retouches rapides (fonds/typo/accents) ðŸ‘‰ modifie seulement ici
   ========================= */
:root {
  /* Layout */
  --asv-max: 1160px;
  --asv-pad-x: 20px;
  --asv-anchor-offset: 96px;
  /* V1.3 â€” Calques (superposition) */
  --asv-layer-base: 1;
  --asv-layer-flyout: 50;   /* menus, listes dÃ©roulantes */

  /* Typo (couleurs) */
  --asv-text: #e6ecff;           /* texte principal */
  --asv-muted: #94a3b8;          /* texte attÃ©nuÃ© */
  --asv-title-accent:#2563eb;      /* accent sur titres (chrome â€œchrome du titreâ€) */
  --asv-primary:#2563eb;        /* bleu utilitaire (contenu) */

  /* ðŸŽ¨ ACCENTS / PINS / CTA (bleu signature alignÃ© prod) */
  --asv-accent-blue: #2563eb;          /* signature */
  --asv-accent-blue-deep: #1e3a8a;     /* racine du pin */
  --asv-accent-pin-grad: linear-gradient(180deg, var(--asv-accent-blue-deep) 0%, var(--asv-accent-blue) 100%);

  /* ðŸ§Š VERRE (bordures/ombres communes Ã  toutes les cartes) */
  --asv-glass-bd: rgba(90,130,255,0.14);
  --asv-glass-shadow:
    inset 0 1px 0 rgba(255,255,255,0.04),
    0 10px 38px rgba(0,0,0,0.45),
    0 0 12px rgba(0,100,255,0.12);

   /* â”€â”€ Recette AURORA (sections principales) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  --asv-aurora-bd: rgba(90,130,255,.14);
  --asv-aurora-bg:
    radial-gradient(140% 100% at 50% 68%,
      rgba(56,96,220,.10) 0%,
      rgba(22,34,68,.09) 42%,
      rgba(10,16,28,.08) 62%,
      rgba(6,10,18,.06) 82%,
      transparent 100%
    ),
    linear-gradient(180deg, rgba(5,8,14,.65) 0%, rgba(6,10,18,.65) 100%);
  --asv-aurora-shadow:
    inset 0 1px 0 rgba(255,255,255,.04),
    0 10px 38px rgba(0,0,0,.45),
    0 0 12px rgba(0,100,255,.12);
  --asv-aurora-backdrop: blur(8px) saturate(110%);

  /* â”€â”€ Recette VERRE MÃ‰TRIQUE (sous-sections) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  --asv-verre-bd: rgba(120,170,255,.10);
  --asv-verre-bg:
    radial-gradient(120% 140% at 50% 115%, rgba(0,0,0,.14) 0%, rgba(0,0,0,0) 60%),
    linear-gradient(180deg, rgba(10,16,28,.64) 0%, rgba(8,12,20,.66) 100%);
  --asv-verre-shadow:
    inset 0 1px 0 rgba(255,255,255,.035),
    0 12px 28px rgba(0,0,0,.32);
  --asv-verre-backdrop: blur(10px) saturate(112%);

}

/* =========================
   ðŸ§± PAGE & CONTENEUR
   ========================= */
.a-savoir-page { color: var(--asv-text); min-height: 100vh; }
.container-std { max-width: var(--asv-max); margin: 0 auto; padding: var(--asv-pad-x); }

/* =========================
   ðŸ·ï¸ HERO
   ========================= */
.a-savoir-hero { padding: 10px 0 0px; }
.title{
  font-weight: 800; font-size: 28px; text-align: center; margin: 0;
  /* â€œchromeâ€ de titre comme home/dashboard */
  background: linear-gradient(180deg, #f8faff 0%, #cdd9ff 48%, #9ab4ff 100%);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  text-shadow: 0 0 10px rgba(80,130,255,0.06), 0 2px 6px rgba(0,0,0,0.35);
}
.subtitle{ color: var(--asv-muted); text-align: center; margin: 8px 0 0; }

/* =========================
   ðŸ“ LAYOUT (TOC + CONTENU)
   ========================= */
.layout{ display: grid; grid-template-columns: 260px 1fr; gap: 20px; margin-top: 8px; }
.toc-wrap{ position: sticky; top: 84px; height: max-content; }
@media (max-width:1024px){ .layout{ grid-template-columns: 1fr; } .toc-wrap{ display:none; } }

/* =========================
   ðŸŽ´ CARTES / SECTIONS â€” OUTER
   - fonds des sections principales
   ========================= */
.card-std,
.a-savoir-page .content > section,
.a-savoir-page .section-block,
.toc-mobile-button,
.toc-mobile .toc-mobile-panel,
.strat-list{
  background: var(--asv-aurora-bg);
  border: 1px solid var(--asv-aurora-bd);
  border-radius: 14px;
  backdrop-filter: var(--asv-aurora-backdrop);
  background-clip: padding-box;
  box-shadow: var(--asv-aurora-shadow);
}
/* V1.3 â€” Chaque section a un z-index de base (ordre naturel) */
.a-savoir-page .content > section{ position: relative; z-index: var(--asv-layer-base); }

/* V1.3 â€” Sections avec selects : menus doivent passer AU-DESSUS des suivantes */
#techniques,
#pairs{
  position: relative;
  z-index: var(--asv-layer-flyout);
  overflow: visible; /* garantit que les menus ne soient pas coupÃ©s */
}

/* V1.3 â€” Conteneurs internes des selects (explorers) : calque Ã©levÃ© + pas de clipping */
.strat-explorer,
.strat-list{
  position: relative;
  z-index: var(--asv-layer-flyout);
  overflow: visible;
}

/* V1.3 â€” Menus dÃ©roulants gÃ©nÃ©riques dans ces sections (selon les libs) */
#techniques [role="listbox"],
#pairs      [role="listbox"],
#techniques .dropdown-menu,
#pairs      .dropdown-menu{
  position: relative;       /* si dÃ©jÃ  absolu par la lib, le z-index sâ€™applique pareil */
  z-index: calc(var(--asv-layer-flyout) + 5);
}

/* espacements outer */
.card-std,
.a-savoir-page .content > section,
.a-savoir-page .section-block { padding: 16px; }

/* .strat-list = colonne sticky (outer pour contraste) */
.strat-list{ padding: 12px; border-radius: 12px; position: sticky; top: 88px; align-self: start; }

/* =========================
   ðŸŽ´ CARTES / BLOCS â€” INNER
   - fonds des blocs internes (dans une section)
   ========================= */
.strategy-card,
.strat-detail,
.value-card,
.faq details,
.blk,
.step{
  background: var(--asv-verre-bg);
  border: 1px solid var(--asv-verre-bd);
  border-radius: 14px;
  backdrop-filter: var(--asv-verre-backdrop);
  background-clip: padding-box;
  box-shadow: var(--asv-verre-shadow);
}

/* espacements inner */
.strategy-card,
.strat-detail,
.value-card,
.faq details,
.step{ padding: 16px; }
.blk{ padding: 12px; border-radius: 12px; }

/* =========================
   ðŸ“„ CONTENU (texte & helpers)
   ========================= */
.content{ display:flex; flex-direction:column; gap:24px; }
.section-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:12px; }
.section-title{ font-size:18px; font-weight:700; }
.section-hint{ color: var(--asv-muted); font-size:12px; }
.muted{ color: var(--asv-muted); }
.bullets{ padding-left:18px; display:grid; gap:6px; color:var(--asv-muted); }
.bullets li::marker{ color: var(--asv-primary); }

/* =========================
   ðŸ—‚ï¸ STRATEGY â€” LISTE & DÃ‰TAIL
   ========================= */
.strategy-grid{ display:grid; grid-template-columns: repeat(2,1fr); gap:14px; }
@media (max-width:800px){ .strategy-grid{ grid-template-columns:1fr; } }

.strategy-title{ font-weight:700; }
.badges{ display:flex; gap:8px; flex-wrap:wrap; margin-top:8px; }
.badge{ font-size:11px; padding:2px 8px; border-radius:999px; background: rgba(255,255,255,.08); color: var(--asv-primary); border:1px solid rgba(255,255,255,.1); }
.badge.todo{ border-style:dashed; color: var(--asv-muted); }
.badge--blue{ background: rgba(37,99,235,.16); color:#9ec2ff; border-color: rgba(37,99,235,.30); }

.strat-explorer{ display:grid; grid-template-columns: 320px 1fr; gap:16px; }
@media (max-width:980px){ .strat-explorer{ grid-template-columns: 1fr; } }

.strat-search{ display:flex; gap:8px; align-items:center; margin-bottom:10px; }
.strat-search input{
  flex:1; height:40px; padding:0 12px; border-radius:10px; outline:none;
  background: rgba(15,23,42,.7); color: var(--asv-text); border:1px solid rgba(255,255,255,.10);
}
.strat-search input:focus{ border-color: rgba(59,130,246,.35); box-shadow: 0 0 0 2px rgba(59,130,246,.20); }
.strat-count{ font-size:12px; color: var(--asv-muted); }

.strat-items{ list-style:none; margin:0; padding:0; display:grid; gap:6px; max-height:60vh; overflow:auto; }
.strat-item{
  width:100%; text-align:left; cursor:pointer;
  background: rgba(12,18,30,.72); color: var(--asv-text);
  border:1px solid rgba(255,255,255,.06); border-radius:10px; padding:10px 12px;
  display:grid; gap:6px; transition: border-color .18s ease, background .18s ease;
}
.strat-item:hover{ background: rgba(255,255,255,.05); }
.strat-item.is-active{ border-color: rgba(59,130,246,.40); box-shadow: 0 0 0 2px rgba(59,130,246,.18); }
.strat-item-title{ font-weight:800; }
.strat-item-tags{ display:flex; gap:6px; flex-wrap:wrap; }

.strat-detail-head{ display:grid; gap:6px; margin-bottom:10px; }
.strat-detail-head h3{ margin:0; font-size:1.25rem; font-weight:800; }
.strat-detail-head .tagline{ color: var(--asv-muted); font-size:.95rem; }
.strat-detail-head .tags{ display:flex; gap:6px; flex-wrap:wrap; }

.strat-detail-grid{ display:grid; gap:14px; grid-template-columns: repeat(2,minmax(0,1fr)); }
@media (max-width:980px){ .strat-detail-grid{ grid-template-columns:1fr; } }
.blk-title{ font-weight:800; margin-bottom:6px; }

/* =========================
   ðŸ“„ SPÃ‰CIFICATIONS CSV
   ========================= */
.csv-spec .spec-table{
  width:100%; border-collapse:separate; border-spacing:0;
  border:1px solid rgba(148,163,184,.18); border-radius:10px; overflow:hidden;
  margin: 12px 0 14px;
}
.csv-spec .spec-table thead th{ background: rgba(255,255,255,.04); text-align:left; color:#9fb0c6; font-weight:700; }
.csv-spec .spec-table th, .csv-spec .spec-table td{ padding:10px 12px; border-bottom:1px solid rgba(255,255,255,.06); }
.csv-spec .spec-table tbody tr:nth-child(even) td{ background: rgba(255,255,255,.02); }

.csv-spec .csv-example{ margin: 10px 0 12px; }
.csv-spec .csv-example .lbl{ font-weight:700; margin-bottom:6px; }
.csv-spec .csv-example input.mono{
  width:100%; padding: 8px 10px; border-radius: 8px;
  background: rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12);
  color: #e5ecf5; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
}

.csv-spec .code-block .lbl{ font-weight:700; margin: 10px 0 6px; }
.csv-spec .code-block pre{
  margin:0; padding: 10px 12px; overflow:auto; border-radius: 8px;
  background: rgba(0,0,0,.35); border:1px solid rgba(255,255,255,.12);
}

/* =========================
   ðŸ‘¥ ABOUT / CRÃ‰DITS / SÃ‰CURITÃ‰
   ========================= */
.about-section p{ margin-bottom:10px; line-height:1.6; }
.about-section b{ color: var(--asv-primary); }

#credits .blk, #security .blk{ margin-bottom:14px; }
#credits .blk-title, #security .blk-title{ font-size:15px; font-weight:700; margin-bottom:8px; }
#credits .bullets li b{ color: var(--asv-primary); }
#credits .badge{ background: rgba(59,130,246,.25); color: var(--asv-text); font-size:11px; }

#security .link{ color: var(--asv-primary); text-decoration:none; transition: color .2s; }
#security .link:hover{ text-decoration:underline; color:#60a5fa; }

/* =========================
   â“ FAQ
   ========================= */
.faq summary{ cursor:pointer; font-weight:700; list-style:none; }
.faq summary::-webkit-details-marker{ display:none; }
.faq details[open] summary{ color: var(--asv-primary); }
.faq .answer{ margin-top:8px; color: var(--asv-text); }
.faq .answer p{ margin:6px 0; }
.faq .answer .link{ color: var(--asv-primary); text-decoration:none; }
.faq .answer .link:hover{ text-decoration:underline; color:#60a5fa; }
/* V1.3 â€” Espacement entre Ã©lÃ©ments FAQ (cartes non collÃ©es) */
.faq details{ margin: 0; }                 /* reset sÃ»r */
.faq details + details{ margin-top: 10px; } /* inter-carte discret */
@media (max-width: 600px){
  .faq details + details{ margin-top: 8px; }  /* lÃ©ger resserrage en mobile */
}

/* =========================
   â­ VALUE / CTA
   ========================= */
#value .value-wrap{ display:grid; gap:14px; }
.value-grid{ display:grid; grid-template-columns: repeat(3,minmax(0,1fr)); gap:14px; }
@media (max-width:980px){ .value-grid{ grid-template-columns:1fr; } }
.vc-title{ font-weight:800; margin-bottom:6px; }
.value-card p{ margin: 6px 0 8px; }

.value-cta{ display:flex; gap:10px; flex-wrap:wrap; margin-top:4px; }
.value-cta .btn-primary, .value-cta .btn-ghost{
  display:inline-flex; align-items:center; justify-content:center;
  height:40px; padding:0 14px; border-radius:10px; font-weight:700; text-decoration:none;
  border:1px solid rgba(255,255,255,.10);
}
.value-cta .btn-primary{ background: var(--asv-accent-pin-grad); color:#0b1220; border-color:transparent; box-shadow: inset 0 1px 0 rgba(255,255,255,.18), 0 10px 22px rgba(37,99,235,.30); }
.value-cta .btn-primary:hover{ filter: brightness(1.05); }
.value-cta .btn-ghost{ background: rgba(255,255,255,.04); color: var(--asv-text); }
.value-cta .btn-ghost:hover{ background: rgba(255,255,255,.06); }

/* =========================
   ðŸ§­ TOC MOBILE (details/summary)
   ========================= */
.toc-mobile{ display:none; }
@media (max-width:1024px){
  .toc-mobile{ display:block; position:sticky; top:84px; z-index:30; margin-bottom:10px; }
  .toc-mobile-button{ display:inline-flex; align-items:center; gap:8px; padding:10px 14px; font-weight:800; }
  .toc-mobile[open] .toc-mobile-button{ box-shadow: 0 12px 34px rgba(2,8,23,.5), 0 0 14px rgba(64,140,255,.16); border-color: rgba(100,150,255,.18); }
  .toc-mobile .toc-mobile-panel{ margin-top:8px; border-radius:12px; padding:10px 12px; max-height:60vh; overflow:auto; }
  .toc-mobile-link{ display:block; padding:10px 8px; color:#e6ecff; text-decoration:none; border-radius:8px; }
  .toc-mobile-link:hover{ background: rgba(255,255,255,.04); }
}

/* =========================
   ðŸ§· ANCRAGES / MISC
   ========================= */
section[id]{ scroll-margin-top: var(--asv-anchor-offset); }
html{ scroll-behavior: smooth; }
.layout > *, .content, .strat-explorer, .strat-detail, .strat-list{ min-width:0; }
.a-savoir-page, .a-savoir-page .container-std{ overflow-x: clip; }
.a-savoir-page table, .a-savoir-page pre, .a-savoir-page textarea, .a-savoir-page input{ max-width:100%; }

/* =========================
   ðŸ“± RESPONSIVE TABLES
   ========================= */
@media (max-width:680px){
  .csv-spec .spec-table{ display:block; overflow-x:auto; -webkit-overflow-scrolling:touch; border-radius:10px; }
  .csv-spec .spec-table thead, .csv-spec .spec-table tbody, .csv-spec .spec-table tr{ width:max-content; }
}

/* =========================
   ðŸ”Ž TEXT SIZE ADJUST
   ========================= */
@media (max-width:600px){
  .container-std{ padding: 16px 12px; }
  .title{ font-size:22px; }
  .section-title{ font-size:16px; }
}

/* =========================
   ðŸ§© HOW IT WORKS (steps)
   ========================= */
.steps-grid{ display:grid; grid-template-columns: repeat(2,minmax(0,1fr)); gap:12px; }
@media (max-width:860px){ .steps-grid{ grid-template-columns:1fr; } }
.step{ display:grid; grid-template-columns:36px 1fr; gap:10px; align-items:start; }
.step-num{
  width:36px; height:36px; display:grid; place-items:center; font-weight:800; color:#0b1220;
  background: var(--asv-accent-pin-grad); border-radius:10px; box-shadow: 0 6px 18px rgba(37,99,235,.25);
}
.step-title{ font-weight:800; margin-bottom:4px; }
.step-body p{ margin:0; }

/* =========================
   ðŸ“Œ UTILITAIRES ACCENTS (PINS)
   ========================= */
.pin-left{ display:flex; align-items:center; gap:10px; }
.pin-left::before{
  content:""; display:inline-block; width:6px; height:22px; border-radius:999px;
  background: var(--asv-accent-pin-grad);
  box-shadow: 0 0 10px rgba(37,99,235,.35);
}
