/* ==========================================================================
 üé® BACKTRADZ ‚Äî STYLES GLOBAUX (v1.3.2)
 Nettoyage complet + uniformisation du fond noir profond
 ========================================================================== */

/* Import du preset visuel de la grille hex */
@import "./components/background/hex-neon.css";

/* ==========================================================================
 üé® VARIABLES ROOT
 ========================================================================== */
:root {
  /* üéØ Noir profond identique au canvas hex (#05070a) */
  --bg-page: #05070a;

  /* Scrollbar (mode desktop uniquement) */
  --scroll-track: var(--bg-page);
  --scroll-thumb: #151b26;
  --scroll-thumb-hover: #1f2937;

  /* Param√®tres hex par d√©faut */
  --hex-edge: 80;
  --hex-gap: 3;
  --hex-glow: rgba(90,170,255,.45);
}

/* ==========================================================================
 ‚öôÔ∏è BASE HTML / BODY
 ========================================================================== */
html, body {
  margin: 0 !important;
  padding: 0 !important;
  height: 100%;
  width: 100%;
  background-color: var(--bg-page) !important;
  color: #e5e7eb;
  color-scheme: dark; /* synchronise la barre de statut */
  scrollbar-color: var(--scroll-thumb) var(--scroll-track); /* Firefox */
  scrollbar-width: thin;
  border: none;
}

/* üî§ Police globale & lissage */
:root {
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI",
               Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji",
               "Segoe UI Emoji", "Segoe UI Symbol";
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ==========================================================================
 üìä SECTIONS R√âACTIVES (TOP STRATEGIES)
 ========================================================================== */
.topstrat-row {
  display: flex;
  flex-wrap: wrap;
  gap: 1.5rem;
}
.topstrat-item { width: 100%; }

@media (min-width: 640px) {
  .topstrat-item { width: calc(50% - 0.75rem); }
}
@media (min-width: 1024px) {
  .topstrat-item { width: calc(33.333% - 1rem); }
}

/* ==========================================================================
 üß≠ SCROLLBARS (dark desktop / masqu√©es mobile)
 ========================================================================== */

/* Emp√™che le d√©calage horizontal permanent */
html {
  scrollbar-gutter: stable;
}

/* --- Desktop : visible et styl√©e --- */
@media (min-width: 1025px) {
  *::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }
  *::-webkit-scrollbar-track {
    background: var(--scroll-track);
  }
  *::-webkit-scrollbar-thumb {
    background: var(--scroll-thumb);
    border-radius: 12px;
    border: 2px solid var(--scroll-track);
  }
  *::-webkit-scrollbar-thumb:hover {
    background: var(--scroll-thumb-hover);
  }
  *::-webkit-scrollbar-corner {
    background: var(--scroll-track);
  }
}

/* --- Mobile & tablette : masqu√©e --- */
@media (max-width: 1024px) {
  *::-webkit-scrollbar {
    display: none !important;
    width: 0 !important;
    height: 0 !important;
  }
  html, body {
    scrollbar-width: none !important;
  }
  html, body, #root {
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
}

/* ==========================================================================
 üß± STRUCTURE GLOBALE DU LAYOUT
 ========================================================================== */
* { box-sizing: border-box; }
html, body, #root { height: 100%; overflow-x: clip; }

#root {
  min-height: 100dvh;
  display: flex;
  flex-direction: column;
}

/* Layout principal */
.app-layout {
  display: flex;
  flex-direction: column;
  min-height: 100dvh;
  isolation: isolate;
  background: transparent;
}

/* Contenu flexible */
.app-layout > main {
  flex: 1 0 auto;
  padding-bottom: var(--ft-h, 72px); /* Footer space */
}

/* Footer coll√© en bas */
footer.footer {
  margin-top: auto;
}

/* Neutralisation des fonds inutiles sur les pages */
main, .container-std,
[class*="-page"], [class*="-hero"] {
  background: transparent;
}

/* ==========================================================================
 üåå CANVAS HEX (background)
 ========================================================================== */
#hex-canvas {
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  pointer-events: none;
  z-index: 0;
  background: var(--bg-page); /* m√™me noir profond que la grille */
}
.isolate { isolation: isolate; }

/* ==========================================================================
 üìè FOOTER + SECTIONS DYNAMIQUES
 ========================================================================== */
.page-skeleton-guard {
  min-height: clamp(320px, 60vh, 900px);
}

/* ==========================================================================
 üì± SAFE AREA (iOS/Android notches)
 ========================================================================== */
@supports (padding: max(0px)) {
  body::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: env(safe-area-inset-top);
    background: var(--bg-page);
    z-index: 1;
    pointer-events: none;
  }
}
/* ==========================================================================
 üí° FALLBACKS & MODES R√âDUITS
 ========================================================================== */

/* Si le canvas √©choue : fond noir uniforme (pas de flash blanc) */
.no-hex body,
body.no-hex {
  background: var(--bg-page) !important;
}

/* Mode lite : supprime le canvas anim√© */
.lite-mode #hex-canvas {
  display: none !important;
}

/* S'assure que la page reste visuellement identique */
.lite-mode body,
body.lite-mode {
  background: var(--bg-page) !important;
}
