/* ============================================================================
   FOOTER ‚Äî Stradex
   - 0 r√©gression : m√™mes classes, m√™mes valeurs, m√™me ordre visuel
   - :root = variables pour couleurs, espaces, largeur & breakpoint
   - Desktop : grille 3 zones (gauche | centre | droite)
   - Mobile ‚â§640px : on empile, tout centr√©, petit padding lat√©ral
   ============================================================================ */

/* üéõÔ∏è THEME / TOKENS (reprend les valeurs de l‚Äôexistant) */
:root{
  --ft-h:           72px;           
  /* üîÅ On r√©utilise les tokens de la navbar s‚Äôils existent, sinon fallback */
  --ft-bg:          var(--nav-bg, rgba(11,18,32,0.46));
  --ft-bg-scrolled: var(--nav-bg-scrolled, rgba(11,18,32,0.70));
  --ft-border:      var(--nav-border, rgba(120,144,180,0.22));
  --ft-text:        #e6ecff;
  --ft-muted:       #b6caea;       
  --ft-link:        #cfe0ff;      
  --ft-link-hover:  #ffffff;    
  --ft-font-size:    13px;          /* taille du texte */
  --ft-pad-y:        12px;          /* padding vertical du footer */
  --ft-inner-pad-x:   8px;          /* gutter horizontal interne */
  --ft-gap:          24px;          /* espacement entre liens centr√©s */

  --ft-maxw:         none;          /* largeur max du conteneur (none = 100%) */
  --ft-break:        640px;         /* breakpoint mobile */
  --ring: rgba(99,102,241,.45); /* m√™me focus ring que la nav */
}

/* üß± Bloc principal du footer */
.footer {
  font-size: 12.5px;
  /* m√™me technique que la navbar : surface peinte via ::before */
  background: transparent;
  color: var(--ft-text);
  padding: calc(var(--ft-pad-y) + env(safe-area-inset-bottom, 0px)) 0 var(--ft-pad-y);
  font-size: var(--ft-font-size);
  /* V1.3: sticky via flex ‚Äî suit le flux et se plaque en bas quand la page est courte */
  position: relative;
  width: 100%;
  margin-top: auto;           /* üîë pousse le footer en bas du flex container */
  z-index: 20;
}

/* V1.3: l‚Äôutilitaire de padding n‚Äôest plus n√©cessaire avec le footer non-fixed */
/* .needs-footer-padding { ‚Ä¶ } ‚Äî d√©pr√©ci√© */

/* üé¨ Surface unique (glass + hairline identiques √† la navbar) */
.footer::before{
  content:"";
  position:absolute; inset:0;
  background: var(--ft-bg);
  /* film vertical subtil comme la nav */
  background-image: linear-gradient(to top, rgba(255,255,255,.018), transparent 40%, rgba(0,0,0,.055));
  background-blend-mode: overlay;
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  pointer-events:none;
  /* hairline en HAUT du footer + ombre douce */
  box-shadow:
    inset 0 1px 0 var(--ft-border),
    0 -10px 24px rgba(0,0,0,0.08);
}

/* üì¶ Conteneur interne : grille 3 colonnes, full width */
.footer-inner {
  max-width: var(--ft-maxw);        /* none -> s‚Äô√©tire sur 100% */
  width: 100%;
  margin: 0 auto;
  padding: 0 var(--ft-inner-pad-x); /* l√©ger ‚Äúair‚Äù √† gauche/droite */
  position: relative; z-index: 1;   /* passe au-dessus de la surface */
  display: grid;
  grid-template-columns: 1fr auto 1fr; /* gauche | centre | droite */
  align-items: center;
}

/* ‚óÄÔ∏è Zone gauche */
.footer-left {
  justify-self: start;              /* coll√© √† gauche */
  color: var(--ft-muted);
  white-space: nowrap;              /* pas de retour √† la ligne ici */
}

/* ‚è∫ Zone centrale : liens */
.footer-center {
  display: flex;
  gap: var(--ft-gap);
  justify-content: center;          /* parfaitement centr√© */
  text-align: center;
}
.footer-link {
  color: var(--ft-link);
  text-decoration: none;
  transition: color .15s ease, background-color .15s ease, box-shadow .15s ease;
  padding: 4px 8px; border-radius: 8px; /* micro hit-area comme la nav */
}
.footer-link:hover {
  color: var(--ft-link-hover);
  background: rgba(16,24,40,.4);
}

.footer-link:focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px var(--ring);
  background: rgba(16,24,40,.42);
}

/* ‚ñ∂Ô∏è Zone droite */
.footer-right {
  justify-self: end;                /* coll√© √† droite */
  color: var(--ft-muted);
  white-space: nowrap;
}

/* üì± Responsive : on empile et on centre tout */
@media (max-width: 640px) {
  /* ‚úÖ En mobile le footer est plus haut : on ajuste la variable */
  :root{ --ft-h: 96px; }
  .footer-inner {
    grid-template-columns: 1fr;     /* 1 seule colonne */
    gap: 6px;
    padding: 0 12px;                /* un peu plus d‚Äôair en mobile */
    text-align: center;
  }
  .footer-left,
  .footer-right {
    justify-self: center;           /* tout centr√© */
  }
}

/* =========================================================
   FOOTER ‚Äî Mobile fixes (wrap + √©ventuelles abr√©viations)
   ========================================================= */

/* 1) ‚â§640px : on autorise le retour √† la ligne des liens centraux */
@media (max-width: 640px) {
  .footer-center{
    flex-wrap: wrap;                 /* ‚úÖ passe √† la ligne si √ßa ne tient pas */
    gap: 8px 14px;                   /* espace vertical/horizontal */
    justify-content: center;
  }
  .footer-inner{ padding: 0 12px; }  /* petit gutter pour ne jamais coller les bords */
}

/* 2) ‚â§360px : texte un poil plus compact */
@media (max-width: 360px) {
  .footer-link{ font-size: 12.5px; }
}

/* 3) (Option PRO) ‚â§320px : abr√©viations automatiques des 3 libell√©s longs
      -> ML / PC / CG ; Support & Contact restent en toutes lettres.
      Si l‚Äôordre diff√®re chez toi, ajuste les nth-child.
*/
@media (max-width: 320px) {
  .footer-center .footer-link{ position: relative; }

  /* on masque visuellement le texte d‚Äôorigine pour ces 3 l√† uniquement */
  .footer-center .footer-link:nth-child(1),
  .footer-center .footer-link:nth-child(2),
  .footer-center .footer-link:nth-child(3){
    font-size: 0;                    /* masque le texte, garde le lien cliquable */
  }
  .footer-center .footer-link:nth-child(1)::after{ content: "ML";  font-size: 13px; }
  .footer-center .footer-link:nth-child(2)::after{ content: "PC";  font-size: 13px; }
  .footer-center .footer-link:nth-child(3)::after{ content: "CG";  font-size: 13px; }

  /* Support & Contact visibles en clair */
  .footer-center .footer-link:nth-child(4),
  .footer-center .footer-link:nth-child(5){
    font-size: 13px;
  }
}

/* =========================================================
   FOOTER ‚Äî Mobile strict : 2 liens (L√©gal + Support/Contact)
   - Cache tous les liens centraux
   - N‚Äôaffiche que le 1er (legal) et le dernier (support/contact)
   - Remplace proprement les libell√©s via ::after
   ========================================================= */
@media (max-width: 420px) {
  /* Cache tout par d√©faut */
  .footer-center .footer-link{
    display: none !important;
  }

  /* Garde seulement le premier et le dernier */
  .footer-center .footer-link:first-child,
  .footer-center .footer-link:last-child{
    display: inline-block !important;
    font-size: 0 !important;     /* masque le texte d‚Äôorigine */
  }

  /* Libell√©s mobiles */
  .footer-center .footer-link:first-child::after{
    content: "L√©gal";
    font-size: 13px;
  }
  .footer-center .footer-link:last-child::after{
    content: "Support / Contact";
    font-size: 13px;
  }

  /* Espacement & wrap propre */
  .footer-center{ gap: 8px 16px; flex-wrap: wrap; }
}

/* espace c√¥t√© droit, safe sur iOS avec l‚Äôencoche */
.footer-right{
  /* plus proche du bord, tout en respectant l'encoche */
  padding-right: calc(6px + env(safe-area-inset-right, 0px));
}

/* badge version: pill sobre, coh√©rent avec la nav */
.footer-badge{
  display: inline-block;
  padding: 4px 10px;
  border-radius: 9999px;
  font-size: 12.5px;
  letter-spacing: .2px;
  color: #e6ecff;
  background: rgba(12,18,32,.72);
  border: 1px solid rgba(120,144,180,.20);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.03), 0 2px 8px rgba(0,0,0,.25);
}
